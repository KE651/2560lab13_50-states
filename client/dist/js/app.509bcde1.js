(function(){"use strict";var t={804:function(t,e,a){var n=a(963),o=a(252);const s=(0,o._)("p",null,null,-1);function i(t,e,a,n,i,r){const c=(0,o.up)("page-header"),l=(0,o.up)("router-view"),u=(0,o.up)("page-footer");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(c),(0,o.Wm)(l),s,(0,o.Wm)(u)])}const r=t=>((0,o.dD)("data-v-587e9170"),t=t(),(0,o.Cn)(),t),c={id:"block-header"},l=r((()=>(0,o._)("h1",{id:"title"},"Have you visited every state?",-1))),u=[l];function d(t,e,a,n,s,i){return(0,o.wg)(),(0,o.iD)("div",c,u)}console.log("pageheader.vue");var p={name:"PageHeader"},f=a(744);const h=(0,f.Z)(p,[["render",d],["__scopeId","data-v-587e9170"]]);var m=h;const v={class:"footer"},g={class:"m-2"},y={class:"p-3"},b=(0,o._)("span",null,[(0,o._)("a",null,"  ")],-1),A={class:"p-3"},S=(0,o.uE)('<div class="credits"><p class="text-right p-2">Header image by <a target="_blank" href="https://unsplash.com/photos/1lfI7wkGWZ4">@nasa on Unsplash</a></p><p><a target="_blank" href="https://icons8.com/icon/114417/map-marker">Map icon</a> by <a target="_blank" href="https://icons8.com">Icons8</a></p></div>',1);function w(t,e,a,n,s,i){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("div",g,[(0,o._)("span",y,[(0,o.Wm)(r,{to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1})]),b,(0,o._)("span",A,[(0,o.Wm)(r,{to:"/about"},{default:(0,o.w5)((()=>[(0,o.Uk)("About this site")])),_:1})])]),S])}console.log("pagefooter.vue");var k={name:"PageFooter"};const V=(0,f.Z)(k,[["render",w]]);var O=V;console.log("opening app.vue");var R={name:"App",components:{PageHeader:m,PageFooter:O},mounted(){this.$stateService.getAllStates().then((t=>console.log(t)))}};const U=(0,f.Z)(R,[["render",i]]);var Z=U,j=a(594),D={getAllStates(){return console.log("getAllStates"),j.Z.get("/api/states").then((t=>t.data))},setVisited(t,e){return console.log("stateService.js, setVisited for ",t,e),j.Z.patch(`/api/state/${t}`,{visited:e}).then((t=>t.data))},getOneState(t){return console.log("getOneState ",t),j.Z.get(`/api/state/${t}`).then((t=>t.data))}},M=a(119);const T={class:"state-list-container"};function q(t,e,a,n,s,i){const r=(0,o.up)("state-summary"),c=(0,o.up)("state-detail");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(r,{states:s.states},null,8,["states"]),(0,o._)("div",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.states,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"state-container",key:t.name},[(0,o.Wm)(c,{state:t,onUpdateVisited:i.updateVisited},null,8,["state","onUpdateVisited"])])))),128))])])}var x=a(577),E="data:image/png;base64,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";const L=t=>((0,o.dD)("data-v-293e47d2"),t=t(),(0,o.Cn)(),t),z={class:"state-info"},W={class:"state-name"},P=L((()=>(0,o._)("img",{class:"map-icon",src:E},null,-1)));function H(t,e,a,s,i,r){const c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",z,[(0,o._)("span",W,(0,x.zw)(a.state.name),1),(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{class:"visit-state",type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>i.visited=t),onChange:e[1]||(e[1]=(...t)=>r.updateVisited&&r.updateVisited(...t))},null,544),[[n.e8,i.visited]])]),(0,o.Wm)(c,{to:{name:"StateMap",params:{state:a.state.name}}},{default:(0,o.w5)((()=>[P])),_:1},8,["to"])])}console.log("statedetail.vue");var X={name:"StateDetail",emits:["update-visited"],props:{state:Object},data(){return{visited:this.state.visited}},methods:{updateVisited(){this.$emit("update-visited",this.state.name,this.visited)}}};const Y=(0,f.Z)(X,[["render",H],["__scopeId","data-v-293e47d2"]]);var C=Y;const I={key:0},B={key:0,id:"all-visited-message"};function J(t,e,a,n,s,i){return a.states.length>0?((0,o.wg)(),(0,o.iD)("div",I,[(0,o._)("h3",null,"You have visited "+(0,x.zw)(i.totalVisited)+" "+(0,x.zw)(i.units),1),i.areAllVisited?((0,o.wg)(),(0,o.iD)("p",B,"You have visited everywhere!")):(0,o.kq)("",!0)])):(0,o.kq)("",!0)}console.log("statesummary.vue");var N={name:"StateSummary",props:{states:Array},computed:{totalVisited(){let t=0;return this.states.forEach((e=>{e.visited&&t++})),t},areAllVisited(){return this.totalVisited===this.states.length},units(){return 1===this.totalVisited?"state":"states"}}};const K=(0,f.Z)(N,[["render",J],["__scopeId","data-v-fc7cf2a4"]]);var _=K;console.log("statelist.vue");var G={components:{StateDetail:C,StateSummary:_},name:"StateList",data(){return{states:[]}},mounted(){this.fetchAllStates()},methods:{fetchAllStates(){this.$stateService.getAllStates().then((t=>{this.states=t})).catch((t=>{alert("Sorry, unable to fetch list of states."),console.error(t)}))},updateVisited(t,e){this.$stateService.setVisited(t,e).then((t=>{this.fetchAllStates()})).catch((t=>{alert("Sorry, unable to update this state."),console.error(t)}))}}};const F=(0,f.Z)(G,[["render",q],["__scopeId","data-v-1dc77b8c"]]);var Q=F;const $=(0,o._)("h2",null,"Where have you traveled?",-1),tt=(0,o._)("p",null,"Keep track of the states you've visited!",-1),et=(0,o._)("p",null,"A Vue.js site by Katrina",-1),at=[$,tt,et];function nt(t,e,a,n,s,i){return(0,o.wg)(),(0,o.iD)("div",null,at)}var ot={name:"AboutSite"};const st=(0,f.Z)(ot,[["render",nt]]);var it=st;const rt={class:"state-map"},ct={key:0},lt={key:1},ut={key:2,id:"map-container"};function dt(t,e,a,n,s,i){const r=(0,o.up)("l-tile-layer"),c=(0,o.up)("l-map");return(0,o.wg)(),(0,o.iD)("div",rt,[(0,o._)("h2",null,"The state of "+(0,x.zw)(s.state.name),1),s.state.visited?((0,o.wg)(),(0,o.iD)("p",ct,"You have visited this state!")):((0,o.wg)(),(0,o.iD)("p",lt,"You have not visited this state. There's no time like the present!")),s.dataReady?((0,o.wg)(),(0,o.iD)("div",ut,[(0,o.Wm)(c,{ref:"map",onReady:i.onMapReady,zoom:s.state.zoom,center:i.mapCenter},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"})])),_:1},8,["onReady","zoom","center"])])):(0,o.kq)("",!0)])}var pt=a(662);console.log("statemap.vue");var ft={name:"StateMap",components:{LMap:pt.iA,LTileLayer:pt.Hw},data(){return{state:{},dataReady:!1,mapReady:!1}},mounted(){this.state.name=this.$route.params.state,console.log("StateMap",this.state.name),this.fetchStateData()},methods:{onMapReady(){console.log("onMapReady"),this.mapReady=!0,this.setMapView()},setMapView(){console.log("setMapView, dataReady, mapReady: ",this.dataReady,this.mapReady),this.dataReady&&this.mapReady&&(console.log("setMapView if; zoom=",this.state.zoom),this.$refs.map.leafletObject.setView(this.mapCenter,this.state.zoom))},fetchStateData(){console.log("fetchStateData 1 ",this.state.name),this.$stateService.getOneState(this.state.name).then((t=>{this.state=t,console.log("fetchStateData 2",t),this.dataReady=!0,this.setMapView(),console.log(this.lat,this.lon)})).catch((t=>{t.response&&404===t.response.status?this.state.name="?":(alert("Sorry, received an error when fetching this state's data."),console.error(t))}))}},computed:{mapCenter(){return[this.state.lat,this.state.lon]}}};const ht=(0,f.Z)(ft,[["render",dt],["__scopeId","data-v-4accc3ea"]]);var mt=ht,vt=(0,M.p7)({history:(0,M.r5)(),routes:[{path:"/",name:"StateList",component:Q},{path:"/about",name:"AboutSite",component:it},{path:"/map/:state",name:"StateMap",component:mt}]});let gt=(0,n.ri)(Z);gt.config.globalProperties.$stateService=D,gt.use(vt),gt.mount("#app")}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,s){if(!n){var i=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],s=t[u][2];for(var r=!0,c=0;c<n.length;c++)(!1&s||i>=s)&&Object.keys(a.O).every((function(t){return a.O[t](n[c])}))?n.splice(c--,1):(r=!1,s<i&&(i=s));if(r){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[n,o,s]}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};a.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var s=Object.create(null);a.r(s);var i={};t=t||[null,e({}),e([]),e(e)];for(var r=2&o&&n;"object"==typeof r&&!~t.indexOf(r);r=e(r))Object.getOwnPropertyNames(r).forEach((function(t){i[t]=function(){return n[t]}}));return i["default"]=function(){return n},a.d(s,i),s}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,n){return a.f[n](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{93:"ab0169ab",243:"ce72ce9e",431:"34c4f716",633:"f1aea583",858:"1b452ffd"}[t]+".js"}}(),function(){a.miniCssF=function(t){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="client:";a.l=function(n,o,s,i){if(t[n])t[n].push(o);else{var r,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+s){r=d;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",e+s),r.src=n),t[n]=[o];var p=function(e,a){r.onerror=r.onload=null,clearTimeout(f);var o=t[n];if(delete t[n],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(t){return t(a)})),e)return e(a)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={143:0};a.f.j=function(e,n){var o=a.o(t,e)?t[e]:void 0;if(0!==o)if(o)n.push(o[2]);else{var s=new Promise((function(a,n){o=t[e]=[a,n]}));n.push(o[2]=s);var i=a.p+a.u(e),r=new Error,c=function(n){if(a.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;r.message="Loading chunk "+e+" failed.\n("+s+": "+i+")",r.name="ChunkLoadError",r.type=s,r.request=i,o[1](r)}};a.l(i,c,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,s,i=n[0],r=n[1],c=n[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(c)var u=c(a)}for(e&&e(n);l<i.length;l++)s=i[l],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(804)}));n=a.O(n)})();
//# sourceMappingURL=app.509bcde1.js.map